## 堆、栈、RAII

### 堆heap
内存管理语义:指的是动态分配内存的区域,和数据结构中对的堆不是一个概念.
内存需要被手工管理,否则会造成内存泄露.

C++ free Store 自由存储区 特指new,delete分配和释放的内存区域. 一般而言是堆的子集.
new/delete  free store
malloc/free  heap

但new/delete底层通常也是通过malloc/free来实现的.

### 栈 Stack
内存管理语义:指的是函数调用过程中产生的本地变量和调用数据的区域
和数据结构中的栈高度相似,都是LIFO

### RAII Resource Acquisition IS Initialization
C++特有的资源管理方式,其它D,Ada,Rust.

依托栈和析构函数,对所有的资源包括堆内存在内进行管理,不需要垃圾回收,也可以有效的对内存进行管理.

### 内存管理
内存的分配:
所需要分配的内存大小 -> 程序当前未分配的内存大小 -> 内存不足时向操作系统申请 -> 内存充足取出大小合适的内存 -> 标记已用 -> 返回
支持垃圾回收的可能需要回收♻️内存

内存的释放:
把内存标记为未使用
连续未使用的内存块内存管理器需要将其合并为一块,满足后续较大的内存分配(内存块连续)

垃圾回收有不同的策略和实现方式,以实现性能,实时性,额外开销等各方面的平衡.
